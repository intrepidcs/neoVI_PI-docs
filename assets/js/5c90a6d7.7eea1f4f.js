"use strict";(self.webpackChunkneovi_pi=self.webpackChunkneovi_pi||[]).push([[278],{5267:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>c,frontMatter:()=>r,metadata:()=>o,toc:()=>h});const o=JSON.parse('{"id":"how-to-flash-the-neovi-pi-cm4","title":"How to flash the neoVI PI CM4","description":"neoVI PI How to flash the neoVI PI CM4","source":"@site/docs/how-to-flash-the-neovi-pi-cm4.md","sourceDirName":".","slug":"/how-to-flash-the-neovi-pi-cm4","permalink":"/docs/neovi-pi/how-to-flash-the-neovi-pi-cm4","draft":false,"unlisted":false,"editUrl":"https://github.com/intrepidcs/neoVI_PI-docs/blob/main/docs/how-to-flash-the-neovi-pi-cm4.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"How to flash the neoVI PI CM4","description":"neoVI PI How to flash the neoVI PI CM4","keywords":["neoVI PI","Open Raspberry PI","How to flash the neoVI PI CM4"],"sidebar_position":5,"sidebar_label":"How to flash the neoVI PI CM4"},"sidebar":"tutorialSidebar","previous":{"title":"A Tour of neoVI PI Hardware","permalink":"/docs/neovi-pi/a-tour-of-neovi-pi-hardware"},"next":{"title":"Disassemble & Reassemble neoVI PI","permalink":"/docs/neovi-pi/disassemble-and-reassemble-neovi-pi"}}');var s=n(4848),i=n(8453);const r={title:"How to flash the neoVI PI CM4",description:"neoVI PI How to flash the neoVI PI CM4",keywords:["neoVI PI","Open Raspberry PI","How to flash the neoVI PI CM4"],sidebar_position:5,sidebar_label:"How to flash the neoVI PI CM4"},a="How to flash the neoVI PI CM4",l={},h=[{value:"4. How to flash the neoVI PI CM4",id:"4-how-to-flash-the-neovi-pi-cm4",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"how-to-flash-the-neovi-pi-cm4",children:"How to flash the neoVI PI CM4"})}),"\n",(0,s.jsx)(t.h2,{id:"4-how-to-flash-the-neovi-pi-cm4",children:"4. How to flash the neoVI PI CM4"}),"\n",(0,s.jsx)(t.p,{children:"This step by step guide will walk you through how to flash the CM4, overclock and run supertuxkart on it. Steps 1 - 4 are flashing and programming the CM4. Steps 5 and 6 are installing supertuxkart."}),"\n",(0,s.jsx)(t.admonition,{title:"info",type:"info",children:(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Note: Intrepid unit with CM4 comes with OS pre installed with switch to ON position by default."})})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Step 1. Getting the Hardware Ready"})}),"\n",(0,s.jsx)(t.p,{children:"The first thing we need to do is prepare the neoVI-Pi for flashing. Plug in a CM4 module underneath the motherboard. Make sure the holes line up because you can plug them in backwards. Press hard so that both connectors make a distinct click sound. The metal standoffs on the motherboard should look like they are touching the CM4. Then we need to flip it back over and turn switch number 5 on the dip switch to the \u201cON\u201d position. See image below."}),"\n",(0,s.jsx)(t.admonition,{title:"info",type:"info",children:(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Note: Connect the IO board to the RPI using the microUSB cable. This step is only necessary if you have purchased the IO board and RPI separately. If you have purchased the entire package, skip to step 2"})})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Step 2. Installing Necessary Software"})}),"\n",(0,s.jsx)(t.p,{children:"If you already have the required software, then skip this step and move to step 3. We need to install 2 programs onto whatever computer you are using to flash the PI. The first program is RPIboot.exe. This program is needed to tell windows that we want to use the Pi as a storage device. The Second program we need to install is RPI Imager. This is where we chose an OS, and set the settings on our PI. Links to software below."}),"\n",(0,s.jsxs)(t.p,{children:["RPIboot.exe: ",(0,s.jsx)(t.a,{href:"https://www.raspberrypi.com/documentation/computers/compute-module.html",children:"https://www.raspberrypi.com/documentation/computers/compute-module.html"})]}),"\n",(0,s.jsx)(t.admonition,{title:"info",type:"info",children:(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Note: If you are having trouble with your keyboard and mouse not working during the setup process, this may be because the microUSB port being used by the RPI is disabling the USB 2.0 ports that are used to connect your peripherals. To fix this issue, connect your keyboard and mouse to the USB 3.0 ports instead."})})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Windows Installer"})}),"\n",(0,s.jsx)(t.p,{children:"For those who just want to enable the Compute Module eMMC as a mass storage device under Windows, the stand-alone installer is the recommended option. This installer has been tested on Windows 10 32-bit and 64-bit, and Windows XP 32-bit."}),"\n",(0,s.jsx)(t.p,{children:"Please ensure you are not writing to any USB devices whilst the installer is running."}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["Download and run the ",(0,s.jsx)(t.a,{href:"https://github.com/raspberrypi/usbboot/raw/master/win32/rpiboot_setup.exe",children:"Windows installer"})," to install the drivers and boot tool."]}),"\n",(0,s.jsxs)(t.li,{children:["Plug your ",(0,s.jsx)(t.strong,{children:"host PC USB"})," into the ",(0,s.jsx)(t.strong,{children:"USB SLAVE port"}),", making sure you have setup the board as described above."]}),"\n",(0,s.jsx)(t.li,{children:"Apply power to the board; Windows should now find the hardware and install the driver."}),"\n",(0,s.jsxs)(t.li,{children:["Once the driver installation is complete, run the ",(0,s.jsx)(t.code,{children:"RPiBoot.exe"})," tool that was previously installed."]}),"\n",(0,s.jsx)(t.li,{children:"After a few seconds, the Compute Module eMMC will pop up under Windows as a disk (USB mass storage device)."}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["Raspberry Pi Imager: ",(0,s.jsx)(t.a,{href:"https://www.raspberrypi.com/software/",children:"https://www.raspberrypi.com/software/"})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Step 3. Flashing the Raspberry Pi."})}),"\n",(0,s.jsx)(t.p,{children:"Once you have the software installed, flashing the PI is easy. Take a USB cable and plug in neoVI-Pi to your computer via its micro usb port. Plug in DC power to the barrel jack as well. Once it's plugged in, run RPIboot.exe. The CMD terminal will come up and run a script. Once it's done it will close (only a few seconds). Once the terminal closes the Pi will look like a storage device on windows. Then, we want to open up the Raspberry Pi Imager to flash the OS. For the operating system, we want Raspberry Pi OS (64 bit). This OS can be found in the \u201cOther\u201d dropdown menu. In the \u201cStorage\u201d option click on your raspberry pi. Then the last thing is settings (Gear Icon). This is where you can set local passwords and permissions. This can be left alone. Once all of that is set, you can click \u201cWrite\u201d and the computer will start flashing the OS onto Pi. This will take a while."}),"\n",(0,s.jsx)("div",{class:"text--center",children:(0,s.jsxs)("figure",{children:[(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"neoVI PI raspb",src:n(7670).A+"",title:"neoVI PI raspb",width:"680",height:"448"})}),(0,s.jsx)("figcaption",{})]})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Step 4. Enabling USB ports and Overclocking"})}),"\n",(0,s.jsx)(t.p,{children:"By default, the CM4 has the USB ports disabled, so we need to enable them. Once the CM4 is done flashing, it will automatically eject. Don't worry if you get any weird errors from windows saying the device needs to be formatted. Don\u2019t format it, just click OK or the red X. Since it ejects, we need to unplug and plug it back in (power or USB, doesn't matter). Since we unplugged it though we need to run RPIBoot.exe again. After we run RPIboot, go into file explorer and find the CM4. Inside the CM4 find the file named \u201cconfig.txt\u201d. To enable USB ports, copy and paste the following line into the file:"}),"\n",(0,s.jsx)(t.p,{children:"dtoverlay=dwc2,dr_mode=host"}),"\n",(0,s.jsx)(t.p,{children:"To overclock the PI (Do this if running supertuxkart) paste these lines into the same file:"}),"\n",(0,s.jsx)(t.p,{children:"arm_freq=2040"}),"\n",(0,s.jsx)(t.p,{children:"gpu_freq=750"}),"\n",(0,s.jsx)(t.p,{children:"over_voltage=6"}),"\n",(0,s.jsx)(t.p,{children:"It doesn't matter where you paste them in the file so long as it's a new line. I personally like to paste them in the \u201cAdditional Overlays\u201d section to stay organized. Once you\u2019ve pasted what you needed to, save the file and eject the PI."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Step 5. Connect Pi to Wifi"})}),"\n",(0,s.jsx)(t.p,{children:"Some CM4\u2019s have the ability to connect to wifi without needing to do anything, some do not. If you have a wireless CM4 you can pair it to wifi like any other device. If your CM4 is not wireless you can use a USB wifi adapter or plug into it via ethernet."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Step 6. Installing supertuxkart"})}),"\n",(0,s.jsx)(t.p,{children:"Open the pi terminal and run this series of commands. Once you are done supertuxkart will be installed."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"sudo apt update\r\nsudo apt install snapd\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"sudo reboot\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"sudo snap install core\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"sudo snap install supertuxkart\n"})}),"\n",(0,s.jsx)(t.p,{children:"Restart the Pi again after supertuxkart installs."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Step 7. GPU Memory dedication"})}),"\n",(0,s.jsx)(t.p,{children:"Since we want the game to run as smoothly as possible, we want to dedicate memory to the GPU. To do this, go into the Pi terminal and type the command: sudo raspi-config. It will bring you to a blue menu that is navigable with the arrow keys. Go to performance options and the GPU memory. Delete 64 and put 1024. Then finish and reboot."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Notes for Supertuxkart:"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"In the graphics tab in settings turn graphics down all the way, and geometry detail to disabled."}),"\n",(0,s.jsx)(t.li,{children:"Avoid fish level"}),"\n",(0,s.jsx)(t.li,{children:"Avoid levels with detail"}),"\n",(0,s.jsx)(t.li,{children:"Don\u2019t need to make an online account to play together over Meteors or LAN. Just need to enable internet connection in the game\u2019s settings. (It's just a checkbox)"}),"\n"]})]})}function c(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},7670:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/raspb-bfd602be71b2c1099b91877aed3b41f0.png"},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>a});var o=n(6540);const s={},i=o.createContext(s);function r(e){const t=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(i.Provider,{value:t},e.children)}}}]);