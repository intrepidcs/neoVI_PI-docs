{"searchDocs":[{"title":"Safety and Other Important Notices","type":0,"sectionRef":"#","url":"/docs/neovi-pi/safety-and-other-important-notices/","content":"","keywords":"neoVI PI Open Raspberry PI","version":"Next"},{"title":"1. Safety and Other Important Notices​","type":1,"pageTitle":"Safety and Other Important Notices","url":"/docs/neovi-pi/safety-and-other-important-notices/#1-safety-and-other-important-notices","content":" Safety Notices Prior to using this product, read, understand, and follow the instructions for this device and any associated software. If you do not fully understand the instructions, contact icssupport@intrepidcs.com for support.Do not use this product if it has been used outside of the specified operating conditions or is suspected to be damaged.There are no operator serviceable parts inside this equipment. Should you suspect the device is not operating properly, please contact icssupport@intrepidcs.comThe failure modes of this device should be carefully considered prior to using it to instrument safety critical systems. A single point of failure at this device should not prevent the safe operation of any vehicle system.Occasionally, hardware and software are released for testing and evaluation in a beta release. These releases are not subject to full Quality Assurance. They should be used only in a controlled environment with consideration of any impact the safety of the user and the surrounding people and environment. Data and test results from beta hardware and software should be appropriately scrutinized.  Intended Use This hardware is intended for the use of developing automotive communication networks. It is suitable for operation in dry environments such as the passenger compartment or trunk area. Direct exposure to water or excessively damp environments may result in malfunction or damage to the device. Deviating from the intended use of this product or operating outside of its specifications may cause malfunction or damage and will void the manufacturer’s warranty.  Disclaimers Every attempt is made to keep this documentation accurate and current. Intrepid Control Systems reserves the right to update this documentation without notice and assumes no liability from its use. ","version":"Next","tagName":"h3"},{"title":"A Tour of neoVI PI Hardware","type":0,"sectionRef":"#","url":"/docs/neovi-pi/a-tour-of-neovi-pi-hardware/","content":"","keywords":"neoVI PI Open Raspberry PI A Tour of neoVI PI Hardware","version":"Next"},{"title":"3. A Tour of neoVI PI Hardware​","type":1,"pageTitle":"A Tour of neoVI PI Hardware","url":"/docs/neovi-pi/a-tour-of-neovi-pi-hardware/#3-a-tour-of-neovi-pi-hardware","content":" Let’s now take a short tour of the neoVI PI’s hardware. We’ll examine the device from all sides, showing its external components and explaining what each does. This will help you become more familiar with the unit so you can more easily set up, configure and use it.  Like many Intrepid products, the neoVI PI is designed so that all of its connectors are located on its sides, making the device easier to use in cramped quarters. We’ll refer to these as the left side and right side of the unit, as oriented when facing the device with its top label text readable.  Warning The neoVI PI is a complex device that does not contain any user-serviceable parts. Do not attempt to open the case of the neoVI PI unless specifically instructed to do so by an Intrepid Control Systems technician, or you risk possible injury or damage to the unit.  ","version":"Next","tagName":"h2"},{"title":"3.1. Case and Overall Design​","type":1,"pageTitle":"A Tour of neoVI PI Hardware","url":"/docs/neovi-pi/a-tour-of-neovi-pi-hardware/#31-case-and-overall-design","content":" The neoVI PI is enclosed in a sturdy black-anodized metal case. The device has been designed and tested for in-vehicle use, and is operational in a temperature range from -20°C to +85°C. An overall view of the neoVI PI can be seen in Figure 3.  Connectors and ports are often a point of failure with hardware devices. To ensure that the neoVI PI provides you with years of reliable service, Intrepid has ruggedized the physical interfaces on the device by using reinforced metal connectors.  To further protect the device against bumps and drops, it has red-colored rubber bumpers on both ends. These bumpers are removable, but there is no need to do this under normal circumstances, and we recommend that you leave them in place.  Figure 3: Overview of the neoVI PI.  The bottom of the neoVI PI contains barcode that takes you to reference information, including the device serial number, pinouts of its HD-26 and µDB-9 connectors, and Intrepid’s contact information (Figure 4). Pinouts for all PI connectors and cables can be found in Chapter 8.  ","version":"Next","tagName":"h3"},{"title":"3.2. Left Side Interfaces and Connectors​","type":1,"pageTitle":"A Tour of neoVI PI Hardware","url":"/docs/neovi-pi/a-tour-of-neovi-pi-hardware/#32-left-side-interfaces-and-connectors","content":"   ","version":"Next","tagName":"h3"},{"title":"3.3. Right Side Interfaces and Connectors​","type":1,"pageTitle":"A Tour of neoVI PI Hardware","url":"/docs/neovi-pi/a-tour-of-neovi-pi-hardware/#33-right-side-interfaces-and-connectors","content":"   ","version":"Next","tagName":"h3"},{"title":"3.4. Membrane LED Display and Keypad​","type":1,"pageTitle":"A Tour of neoVI PI Hardware","url":"/docs/neovi-pi/a-tour-of-neovi-pi-hardware/#34-membrane-led-display-and-keypad","content":" The membrane contains 10 LEDs that provide immediate visual feedback about the status of the device, and two keypad buttons that can be used to toggle the indicator mode and for other functions.  All of the LEDs and buttons are also scriptable: the buttons can be used for user input, and the LEDs can be programmed using Raspberry PI.  ","version":"Next","tagName":"h3"},{"title":"3.5. Standard Cables and Cable Options​","type":1,"pageTitle":"A Tour of neoVI PI Hardware","url":"/docs/neovi-pi/a-tour-of-neovi-pi-hardware/#35-standard-cables-and-cable-options","content":" You can purchase neoVI PI with several standard cables. We’ll now illustrate these cables and describe each one’s use.  OBD Cables​  neoVI-OBD-1 Cable​  This cable, which has a red OBD-II connector, is used primarily for General Motors vehicles. It can be seen in Figure 4.  Figure 4: neoVI-OBD-1 Cable  neoVI-OBD-MULTI Cable​  This cable has a standard black OBD-II connector and is suitable for use with the vehicles of most OEMs. It is pictured in Figure 5.  Figure 5: neoVI-OBD-MULTI Cable  neoVI-OBD-MULTI Right​  Angle Cable This is the same as the neoVI-OBD-MULTI cable but terminates with a right-angled OBD II connector for vehicles where this is required. A picture of the cable is shown in Figure 6.  Figure 6: neoVI-OBD-MULTI Right Angle Cable  neoVI FIRE/RED J1939 Cable​  This cable terminates in a round 9-pin Deutsch connector for use in commercial vehicles (Figure 7).  Figure 7: neoVI FIRE/RED J1939 Cable  FIRE 2 OBD Cable with DoIP Support​  This special cable attaches to the FIRE 2’s HD-26 connector in place of the regular FIRE 2 Ethernet Cable Adapter. It contains DB-25, DB-9 and OBD-II connectors wired for DoIP use, and is illustrated in Figure 8.  Figure 8: FIRE 2 OBD Cable with DoIP Support ","version":"Next","tagName":"h3"},{"title":"Reference: Connector Pinouts and Cable Signal Mappings","type":0,"sectionRef":"#","url":"/docs/neovi-pi/reference-connector-pinouts-and-cable-signal-mappings/","content":"","keywords":"neoVI PI Open Raspberry PI Reference: Connector Pinouts and Cable Signal Mappings","version":"Next"},{"title":"8. Reference: Connector Pinouts and Cable Signal Mappings​","type":1,"pageTitle":"Reference: Connector Pinouts and Cable Signal Mappings","url":"/docs/neovi-pi/reference-connector-pinouts-and-cable-signal-mappings/#8-reference-connector-pinouts-and-cable-signal-mappings","content":"   Flexible Internal Expansion: Take Advantage of GPIO Headers​  These open-ended pins can be used for a variety of purposes, most commonly, to collect input such as sensors or interface to other tools or writing your own scripts. There are three different headers for interconnection between four components:  RP2040 corresponds to the embedded RPi PicoCM 4 corresponds to the signals from RPi CM 4 signalsDB 9 corresponds to the signals on the DB9 ConnectorDB 26 corresponds to signals on the DB 26 connector  RPi CM4 Pinout (PiHat Compatible)    RP2040/Pi Pico Pinout (Matches Pi Pico)    Miscellaneous Pinout    The pinout for our neoVI PI DB26 connector follows a specific arrangement of pins and their corresponding functions.  Description\tDB26 PINCAN/FD4_L\t2 CAN/FD1_L\t4 CAN/FD2_L\t6 CAN/FD3_L\t7 GND\t10 CAN/FD4_H\t12 CAN/FD1_H\t14 CAN/FD2_H\t16 CAN/FD3_H\t17 VBAT\t19 ","version":"Next","tagName":"h2"},{"title":"Software Setup","type":0,"sectionRef":"#","url":"/docs/neovi-pi/software-setup/","content":"","keywords":"neoVI PI Open Raspberry PI Software Setup","version":"Next"},{"title":"6. Python ICS installation​","type":1,"pageTitle":"Software Setup","url":"/docs/neovi-pi/software-setup/#6-python-ics-installation","content":" ","version":"Next","tagName":"h2"},{"title":"Install ICS software on pi​","type":1,"pageTitle":"Software Setup","url":"/docs/neovi-pi/software-setup/#install-ics-software-on-pi","content":" ","version":"Next","tagName":"h3"},{"title":"About​","type":1,"pageTitle":"Software Setup","url":"/docs/neovi-pi/software-setup/#about","content":" This is a shell script that will install the following:  ICS python library: python-ics docsxlib python library: xlib(formerly VspyX) docsAll required dependencies for controlling the membrane using python: membrane example for python  ","version":"Next","tagName":"h3"},{"title":"Running the install script​","type":1,"pageTitle":"Software Setup","url":"/docs/neovi-pi/software-setup/#running-the-install-script","content":" 1. Download the install_script.zip file attached and unzip it in the PI's home directory.​  Run ls in your home directory to make sure you can see install_ics.sh and requirements.txt    install_script.zip 2KB  2. Run the install script​  In your terminal window run the following 2 commands:  sudo chmod +x $HOME/install_ics.sh ./install_ics.sh   It could take up to 20 minutes to complete.  If you see &quot;Licensing error! Please place a valid license in /home/pi/.vspyx/Licenses&quot; then the installation was successful.  ","version":"Next","tagName":"h3"},{"title":"Usage​","type":1,"pageTitle":"Software Setup","url":"/docs/neovi-pi/software-setup/#usage","content":" There are two ways of using the environment. First one is to activate it with pyenv:  pyenv activate xlib_env   Then just use python myscript.py.  The second way to use it without activating the environment but still using it:  sudo $HOME/.pyenv/versions/xlib_env/bin/python myscript.py   To use xlib you will need a valid licence from ICS, so if you do not have one please contact ICS support.  ICS-python is free to use without any licenses. ","version":"Next","tagName":"h3"},{"title":"Support Contact Information","type":0,"sectionRef":"#","url":"/docs/neovi-pi/support-contact-information/","content":"","keywords":"neoVI PI Open Raspberry PI Support Contact Information","version":"Next"},{"title":"9. Support Contact Information​","type":1,"pageTitle":"Support Contact Information","url":"/docs/neovi-pi/support-contact-information/#9-support-contact-information","content":" If you have questions on our products or your application, we are here to help. Feel free to contact ICS for assistance at one of our offices.  ","version":"Next","tagName":"h2"},{"title":"9.1. USA Headquarters​","type":1,"pageTitle":"Support Contact Information","url":"/docs/neovi-pi/support-contact-information/#91-usa-headquarters","content":" Live support is available from 8 am to 8 pm, Monday to Friday, Eastern Standard / Daylight Time (EST/EDT).  Phone: (800) 859-6265 or (586) 731-7950, extension 1  They can also be contacted at any time through our Talk to an Expert page.  Regardless of the method of contact, our support team will get back to you as soon as possible.  ","version":"Next","tagName":"h3"},{"title":"9.2. ICS International Offices​","type":1,"pageTitle":"Support Contact Information","url":"/docs/neovi-pi/support-contact-information/#92-ics-international-offices","content":" For support in other regions, please refer to our website which lists the latest info for our other offices:  https://www.intrepidcs.com/worldwide/  Support is normally provided from 0900-1700 in the time zone of your local office. You can also contact our headquarters in the USA if your region is not listed. ","version":"Next","tagName":"h3"},{"title":"neoVI PI","type":0,"sectionRef":"#","url":"/docs/neovi-pi/","content":"","keywords":"neoVI PI Open Raspberry PI","version":"Next"},{"title":"Contents:​","type":1,"pageTitle":"neoVI PI","url":"/docs/neovi-pi/#contents","content":" ","version":"Next","tagName":"h3"},{"title":"1. Safety and Other Important Notices​","type":1,"pageTitle":"neoVI PI","url":"/docs/neovi-pi/#1-safety-and-other-important-notices","content":" ","version":"Next","tagName":"h3"},{"title":"2. Introduction and Overview​","type":1,"pageTitle":"neoVI PI","url":"/docs/neovi-pi/#2-introduction-and-overview","content":" ","version":"Next","tagName":"h3"},{"title":"3. A Tour of neoVI PI Hardware​","type":1,"pageTitle":"neoVI PI","url":"/docs/neovi-pi/#3-a-tour-of-neovi-pi-hardware","content":" ","version":"Next","tagName":"h3"},{"title":"4. How to flash the neoVI PI CM4​","type":1,"pageTitle":"neoVI PI","url":"/docs/neovi-pi/#4-how-to-flash-the-neovi-pi-cm4","content":" ","version":"Next","tagName":"h3"},{"title":"5. How to Disassemble & Reassemble neoVI PI​","type":1,"pageTitle":"neoVI PI","url":"/docs/neovi-pi/#5-how-to-disassemble--reassemble-neovi-pi","content":" ","version":"Next","tagName":"h3"},{"title":"6. Software Setup​","type":1,"pageTitle":"neoVI PI","url":"/docs/neovi-pi/#6-software-setup","content":" ","version":"Next","tagName":"h3"},{"title":"7. Control membrane LEDs and Trigger Button​","type":1,"pageTitle":"neoVI PI","url":"/docs/neovi-pi/#7-control-membrane-leds-and-trigger-button","content":" ","version":"Next","tagName":"h3"},{"title":"8. Reference: Connector Pinouts and Cable Signal Mappings​","type":1,"pageTitle":"neoVI PI","url":"/docs/neovi-pi/#8-reference-connector-pinouts-and-cable-signal-mappings","content":" ","version":"Next","tagName":"h3"},{"title":"9. Support Contact Information​","type":1,"pageTitle":"neoVI PI","url":"/docs/neovi-pi/#9-support-contact-information","content":"","version":"Next","tagName":"h3"},{"title":"Python API","type":0,"sectionRef":"#","url":"/docs/neovi-pi/software-setup/python-api/","content":"","keywords":"neoVI PI Open Raspberry PI Python API","version":"Next"},{"title":"Receive Messages​","type":1,"pageTitle":"Python API","url":"/docs/neovi-pi/software-setup/python-api/#receive-messages","content":" Use this function to Receive CAN messages  def receive_can(device): msgs, error_count = ics.get_messages(device) print(&quot;Received {} messages with {} errors.&quot;.format(len(msgs), error_count)) for i, m in enumerate(msgs): print('Message #{}\\t'.format(i+1), end='') print('\\tArbID: {}\\tData: {}'.format(hex(m.ArbIDOrHeader), [hex(x) for x in m.Data]))   ","version":"Next","tagName":"h2"},{"title":"Transmit Messages​","type":1,"pageTitle":"Python API","url":"/docs/neovi-pi/software-setup/python-api/#transmit-messages","content":" Use this function to Transmit CAN messages  def transmit_can(device): msg = ics.SpyMessage() msg.ArbIDOrHeader = 0x01 # CAN Arbitration ID msg.Data = (1,2,3,4,5,6,7,8) # Data Bytes go here msg.NetworkID = ics.NETID_HSCAN # First channel of CAN # msg parameter here can also be a tuple of messages ics.transmit_messages(device, msg)     You can read the full documentation for libicsneo at https://libicsneo.readthedocs.io/en/latest/ and Python documentation at https://python-ics.readthedocs.io/en/2.15/. ","version":"Next","tagName":"h2"},{"title":"SocketCAN Kernel","type":0,"sectionRef":"#","url":"/docs/neovi-pi/software-setup/socketcan-kernel/","content":"","keywords":"neoVI PI Open Raspberry PI SocketCAN Kernel","version":"Next"},{"title":"How to use SocketCAN on a Raspberry Pi 4 (Linux) using ValueCAN 4​","type":1,"pageTitle":"SocketCAN Kernel","url":"/docs/neovi-pi/software-setup/socketcan-kernel/#how-to-use-socketcan-on-a-raspberry-pi-4-linux-using-valuecan-4","content":"   Intrepid Control Systems introduced an Open Source API called Libicsneo. This can be used with python_ics to integrate Intrepid vehicle networking hardware to any Python application running Linux, Mac or Windows. Please refer to The easy way to program ValueCAN 4 in python using Raspberry Pi (Linux) if you would like to learn how to program your device using Intrepid API.  In this tutorial you will learn how to set up the Intrepid SocketCAN kernel module on your Raspberry Pi 4 to work with any Intrepid tool such as ValueCAN 4 series. Please reference the documentation for a list of supported hardware. We will be using ValueCAN 4–2 that includes two channels of CAN or CAN FD.  ","version":"Next","tagName":"h2"},{"title":"Hardware Setup​","type":1,"pageTitle":"SocketCAN Kernel","url":"/docs/neovi-pi/software-setup/socketcan-kernel/#hardware-setup","content":" Connect ValueCAN 4–2 using DB-9F to OBD-II cable to neoOBD2 Simulator (optional) to receive or transmit CAN or CAN FD messages instead of a car.    Open Terminal​  Install dkms, the package for Dynamic Kernel Module Support Framework. We need the dkms package for Raspberry Pi because it doesn’t have a kernel header. On Ubuntu, this is accomplished by running:  sudo apt install linux-headers-generic build-essential gcc git sudo apt-get install dkms sudo apt install raspberrypi-kernel-headers     Clone Intrepid SocketCAN Kernel Module from www.github.com/intrepidcs​  git clone https://github.com/intrepidcs/intrepid-socketcan-kernel-module.git     Go to the module directory by using:  cd intrepid-socketcan-kernel-module   Make the project to build the KO file by using the command make​  make     The resulting file will be intrepid.ko. This module depends on can, can_dev, and can_raw. We have a script to help within the makefile, make reload. But If you prefer to run it yourself, you can run using the following command:  sudo modprobe can sudo modprobe can_raw sudo modprobe can_dev sudo insmod intrepid.ko   Use lsmod to confirm the module is loaded.    If you wish to have the module auto-load on boot, then please follow the instructions on our GitHub page at https://github.com/intrepidcs/intrepid-socketcan-kernel-module. Once you have the Intrepid Socket Kernel Module setup, then we will need to install icsscand. Intrepid Icsscand is a user-mode SocketCAN daemon for Intrepid devices.  To keep our file system clean, we will move out of the Intrepid SocketCAN Kernel directory by using cd.. command.  To install the dependencies needed we will run  sudo apt install git cmake gcc libusb-1.0-0-dev libpcap-dev build-essential     Once you have the dependencies installed, then clone icsscand repository recursively by running\\  git clone --recursive https://github.com/intrepidcs/icsscand.git     Switch into the cloned directory, cd icsscand and make a build directory and switch into it, mkdir build &amp;&amp; cd build    Invoke CMake,​  cmake .. -DCMAKE_BUILD_TYPE=Release     Build the daemon, using the command make​    Daemon should now be available as libicsneo-socketcan-daemon. Daemon allows you to run Intrepid devices in the background. To start the daemon program use  sudo ./libicsneo-socketcan-daemon     If you’re happy with the results and would like to run in the background, run sudo ./libicsneo-socketcan-daemon -d to run in daemon mode.    To view your CAN interfaces, use the command, sudo ip link. They will be labeled can0, can1, and etc. They will have an alias listed which corresponds to the serial number of the device and network on that device. To enable the CAN interface to transmit and receive with sudo ip link set up can0, replacing can0 with whichever interface you’d like to enable    You can now use any SocketCAN application with this interface. A good package for testing is the can-utils package. You can get this with sudo apt install can-utils. A good testing tool which comes with this package is candump. Running candump can0 will print a line for every incoming frame.    So to recap:​  Install Intrepid SocketCAN Kernel Module  Install and start SocketCAN daemon for Intrepid devices.  View and enable the correct CAN Interface  You can read intrepid-socketcan-kernel-module at https://github.com/intrepidcs/intrepid-socketcan-kernel-module and icsscand https://github.com/intrepidcs/icsscand ","version":"Next","tagName":"h3"},{"title":"Disassemble & Reassemble neoVI PI","type":0,"sectionRef":"#","url":"/docs/neovi-pi/disassemble-and-reassemble-neovi-pi/","content":"","keywords":"neoVI PI Open Raspberry PI Disassemble & Reassemble neoVI PI","version":"Next"},{"title":"5. How to Disassemble and Reassemble of the neoVI PI​","type":1,"pageTitle":"Disassemble & Reassemble neoVI PI","url":"/docs/neovi-pi/disassemble-and-reassemble-neovi-pi/#5-how-to-disassemble-and-reassemble-of-the-neovi-pi","content":" Watch this video if you are looking to disassemble and reassemble process of the neoVI PI. First, we will show you how to remove the red boots and the end plates of the case. Then, we will demonstrate how to disconnect the board from the top piece of the case and carefully remove the ribbon. Once the neoVI PI has been disassembled, you'll be able to take a closer look at each aspect of the product inside the case. Next, we will guide you through the reassembly process, step-by-step. We recommend counting all the pieces before starting to ensure that you still have everything you need. Then, we will show you how to reattach the ribbon wire, slide the case pieces back into place, and reattach the end plates. Finally, we will secure the boots back over the edges, and your neoVI PI will be fully assembled!    Disassemble &amp; Reassemble neoVI PI ","version":"Next","tagName":"h2"},{"title":"Control membrane LEDs and Trigger Button","type":0,"sectionRef":"#","url":"/docs/neovi-pi/control-membrane-leds-and-trigger-button/","content":"","keywords":"neoVI PI Open Raspberry PI Control membrane LEDs and Trigger Button","version":"Next"},{"title":"7. Control membrane LEDs and Trigger Button​","type":1,"pageTitle":"Control membrane LEDs and Trigger Button","url":"/docs/neovi-pi/control-membrane-leds-and-trigger-button/#7-control-membrane-leds-and-trigger-button","content":"   info Note - (if you have followed the Software setup page you can skip this step)  Before you can address the membrane, you will need to activate the i2c_vc interface. To do that you need to run the following command:  echo &quot;dtparam=i2c_vc=on&quot; | sudo tee -a /boot/config.txt   After this you need to reboot the pi, sudo reboot will do the job.  Download the below file to control membrane LEDs and trigger buttons.​    membrane.py 4KB ","version":"Next","tagName":"h2"},{"title":"Introduction and Overview","type":0,"sectionRef":"#","url":"/docs/neovi-pi/introduction-and-overview/","content":"","keywords":"neoVI PI Open Raspberry PI Introduction and Overview","version":"Next"},{"title":"2. Introduction and Overview​","type":1,"pageTitle":"Introduction and Overview","url":"/docs/neovi-pi/introduction-and-overview/#2-introduction-and-overview","content":" ","version":"Next","tagName":"h2"},{"title":"2.1 Introduction​","type":1,"pageTitle":"Introduction and Overview","url":"/docs/neovi-pi/introduction-and-overview/#21-introduction","content":" Introducing the Automotive Industry's first open and robust platform for the Raspberry Pi. The neoVI PI has a built-in Raspberry Pi 4 Compute Module (RPi4 CM) that contains quad 64-bit processors and a gigabit Ethernet port, paired with Intrepid’s CAN FD technology. This allows you to simulate, test and datalog with the flexibility that the Raspberry Pi 4 Compute allows. The neoVI Pi has all the features of the RPi4 CM plus up to four CAN FD networks.  The neoVI PI is designed and tested for the automotive environment. This includes a wide power supply range, EMC protection, rugged packaging and environmental testing. The neoVI PI allows you to use the Raspberry Pi 4 Compute while avoiding additional development to adapt to the automotive network environment. That makes the neoVI PI powerful enough to solve your vehicle network problems, yet small enough to fit in your backpack.  ","version":"Next","tagName":"h3"},{"title":"2.2 Package Contents​","type":1,"pageTitle":"Introduction and Overview","url":"/docs/neovi-pi/introduction-and-overview/#22-package-contents","content":" The neoVI PI package includes hardware and drivers  2.2.1. Hardware​  The package contains the following:  The neoVI PI network interface device.Quick Start Card to help you get going quickly with your device.  2.2.2. Driver​  The neoVI PI package includes media containing:  A copy of vehicle network software.Drivers for the neoVI PI adapters.An API install kit containing the neoVI Explorer utility for configuring the device.  It is also possible to control the neoVI PI from within our open source software using APIs that the device supports.  If anything is missing or damaged, please contact Intrepid Control Systems for assistance. The contact for your locale can be found at https://www.intrepidcs.com/worldwide or refer to Section 7 within this document.  ","version":"Next","tagName":"h3"},{"title":"2.3. Operational Overview​","type":1,"pageTitle":"Introduction and Overview","url":"/docs/neovi-pi/introduction-and-overview/#23-operational-overview","content":" The neoVI PIs operation can broadly be broken down into three categories: vehicle network interfacing, data acquisition, and simulation and scripting.  2.3.1 Vehicle Network Interfacing​  Using the provided cables, you can connect the ValueCAN 4-2 to either a bench test setup or a vehicle to monitor live network activity. All channels are monitored simultaneously and are hardware time-stamped.  2.3.2. Data Acquisition​  The neoVI PI enables the acquisition of data from networks with precise control over collection parameters. The data can be captured using the Intrepid APIs.  2.3.3. Simulation and Scripting​  Using Vehicle Spy X, you can define transmit messages with custom data and send them manually or on a schedule of your choosing. You can also write intelligent scripts that implement arbitrary logic and compile them into Raspberry PI that run within the device itself. This functionality allows you to create specialized test scenarios, and to simulate ECUs and gateways.  ","version":"Next","tagName":"h3"},{"title":"2.4. Summary of Key Features​","type":1,"pageTitle":"Introduction and Overview","url":"/docs/neovi-pi/introduction-and-overview/#24-summary-of-key-features","content":" This section includes a summary of the device’s most important design, construction, operational and performance features:  2.4.1. Construction, Controls and Cabling  Temperature range: -20°C to +80°CDimensions: 13.60cm by 11.22cm by 3.97cmLEDs (user programmable): 10 programmable tri-color LEDsPower supply: 5-60V operationSolid powder-coated aluminum case.CAN/CAN FD channel status LEDs.Ability to control CAN/CAN FD termination resistance on both channels  2.4.2. Performance  Support for RPi CM4 variants with EMCC and SDCard for OS storage.Micro USB interface for RPi OS EMCC update (EMMC CM4 only)Micro SD Card interface for RPi OS (Non EMMC CM4 only)Fast wake 70 milliampsM2 NVMe 2.0 SSDVehicle connectors: 26-pin male HD D-subField-upgradeable flash firmwareStandalone mode, receive messages, transmit messages, expressions, I/O and transport layers64-bit timestamping to an accuracy of 25 nanoseconds on all networks  2.4.3. Network Interfaces and Features  Network Specifications – CANFD  4x CAN FD / CAN 2.0 channels (Bosch MCAN core) with:MCP MCP2562FD PHYCompatible with Device Net and CANopenDouble-buffered CAN transmissionSoftware selectable CAN terminationCCP protocol hardware accelerationListen-only mode supportTermination check featureError frame transmit support  2.4.4. Simulation​  Fully-programmable scripting using Raspberry PI  2.4.5. PC Interface Support​  High-speed isolated Ethernet connection protects PC from potential damage.  2.4.6. Advanced Features​  Device control by external software using Open source APIs on github/intrepidcs: libicsneo (https://github.com/intrepidcs/libicsneo) for C/C++ and python_ics for Python https://github.com/intrepidcs/python_ics  ","version":"Next","tagName":"h3"},{"title":"2.5. Hardware and Software Requirements​","type":1,"pageTitle":"Introduction and Overview","url":"/docs/neovi-pi/introduction-and-overview/#25-hardware-and-software-requirements","content":" Before you get started make sure you have the following dependencies  CMake 3.2 or aboveGCC 4.7 or above, 4.8+ recommendedlibusb-1.0–0-devbuild-essential is recommended ","version":"Next","tagName":"h3"},{"title":"How to flash the neoVI PI CM4","type":0,"sectionRef":"#","url":"/docs/neovi-pi/how-to-flash-the-neovi-pi-cm4/","content":"","keywords":"neoVI PI Open Raspberry PI How to flash the neoVI PI CM4","version":"Next"},{"title":"4. How to flash the neoVI PI CM4​","type":1,"pageTitle":"How to flash the neoVI PI CM4","url":"/docs/neovi-pi/how-to-flash-the-neovi-pi-cm4/#4-how-to-flash-the-neovi-pi-cm4","content":" This step by step guide will walk you through how to flash the CM4, overclock and run supertuxkart on it. Steps 1 - 4 are flashing and programming the CM4. Steps 5 and 6 are installing supertuxkart.  info Note: Intrepid unit with CM4 comes with OS pre installed with switch to ON position by default.  Step 1. Getting the Hardware Ready  The first thing we need to do is prepare the neoVI-Pi for flashing. Plug in a CM4 module underneath the motherboard. Make sure the holes line up because you can plug them in backwards. Press hard so that both connectors make a distinct click sound. The metal standoffs on the motherboard should look like they are touching the CM4. Then we need to flip it back over and turn switch number 5 on the dip switch to the “ON” position. See image below.  info Note: Connect the IO board to the RPI using the microUSB cable. This step is only necessary if you have purchased the IO board and RPI separately. If you have purchased the entire package, skip to step 2  Step 2. Installing Necessary Software  If you already have the required software, then skip this step and move to step 3. We need to install 2 programs onto whatever computer you are using to flash the PI. The first program is RPIboot.exe. This program is needed to tell windows that we want to use the Pi as a storage device. The Second program we need to install is RPI Imager. This is where we chose an OS, and set the settings on our PI. Links to software below.  RPIboot.exe: https://www.raspberrypi.com/documentation/computers/compute-module.html  info Note: If you are having trouble with your keyboard and mouse not working during the setup process, this may be because the microUSB port being used by the RPI is disabling the USB 2.0 ports that are used to connect your peripherals. To fix this issue, connect your keyboard and mouse to the USB 3.0 ports instead.  Windows Installer  For those who just want to enable the Compute Module eMMC as a mass storage device under Windows, the stand-alone installer is the recommended option. This installer has been tested on Windows 10 32-bit and 64-bit, and Windows XP 32-bit.  Please ensure you are not writing to any USB devices whilst the installer is running.  Download and run the Windows installer to install the drivers and boot tool.Plug your host PC USB into the USB SLAVE port, making sure you have setup the board as described above.Apply power to the board; Windows should now find the hardware and install the driver.Once the driver installation is complete, run the RPiBoot.exe tool that was previously installed.After a few seconds, the Compute Module eMMC will pop up under Windows as a disk (USB mass storage device).  Raspberry Pi Imager: https://www.raspberrypi.com/software/  Step 3. Flashing the Raspberry Pi.  Once you have the software installed, flashing the PI is easy. Take a USB cable and plug in neoVI-Pi to your computer via its micro usb port. Plug in DC power to the barrel jack as well. Once it's plugged in, run RPIboot.exe. The CMD terminal will come up and run a script. Once it's done it will close (only a few seconds). Once the terminal closes the Pi will look like a storage device on windows. Then, we want to open up the Raspberry Pi Imager to flash the OS. For the operating system, we want Raspberry Pi OS (64 bit). This OS can be found in the “Other” dropdown menu. In the “Storage” option click on your raspberry pi. Then the last thing is settings (Gear Icon). This is where you can set local passwords and permissions. This can be left alone. Once all of that is set, you can click “Write” and the computer will start flashing the OS onto Pi. This will take a while.    Step 4. Enabling USB ports and Overclocking  By default, the CM4 has the USB ports disabled, so we need to enable them. Once the CM4 is done flashing, it will automatically eject. Don't worry if you get any weird errors from windows saying the device needs to be formatted. Don’t format it, just click OK or the red X. Since it ejects, we need to unplug and plug it back in (power or USB, doesn't matter). Since we unplugged it though we need to run RPIBoot.exe again. After we run RPIboot, go into file explorer and find the CM4. Inside the CM4 find the file named “config.txt”. To enable USB ports, copy and paste the following line into the file:  dtoverlay=dwc2,dr_mode=host  To overclock the PI (Do this if running supertuxkart) paste these lines into the same file:  arm_freq=2040  gpu_freq=750  over_voltage=6  It doesn't matter where you paste them in the file so long as it's a new line. I personally like to paste them in the “Additional Overlays” section to stay organized. Once you’ve pasted what you needed to, save the file and eject the PI.  Step 5. Connect Pi to Wifi  Some CM4’s have the ability to connect to wifi without needing to do anything, some do not. If you have a wireless CM4 you can pair it to wifi like any other device. If your CM4 is not wireless you can use a USB wifi adapter or plug into it via ethernet.  Step 6. Installing supertuxkart  Open the pi terminal and run this series of commands. Once you are done supertuxkart will be installed.  sudo apt update sudo apt install snapd   sudo reboot   sudo snap install core   sudo snap install supertuxkart   Restart the Pi again after supertuxkart installs.  Step 7. GPU Memory dedication  Since we want the game to run as smoothly as possible, we want to dedicate memory to the GPU. To do this, go into the Pi terminal and type the command: sudo raspi-config. It will bring you to a blue menu that is navigable with the arrow keys. Go to performance options and the GPU memory. Delete 64 and put 1024. Then finish and reboot.  Notes for Supertuxkart:  In the graphics tab in settings turn graphics down all the way, and geometry detail to disabled.Avoid fish levelAvoid levels with detailDon’t need to make an online account to play together over Meteors or LAN. Just need to enable internet connection in the game’s settings. (It's just a checkbox) ","version":"Next","tagName":"h2"}],"options":{"indexBaseUrl":true,"id":"default"}}